<!DOCTYPE html>
<!--
  Copyright (c) Microsoft Corporation.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'">
  <title>Test Electron App</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    h1 { color: #333; }
    button {
      padding: 10px 20px;
      font-size: 14px;
      cursor: pointer;
      margin: 5px;
    }
    #output {
      margin-top: 20px;
      padding: 10px;
      background: white;
      border: 1px solid #ddd;
      border-radius: 4px;
      min-height: 50px;
    }
    input[type="text"] {
      padding: 8px;
      font-size: 14px;
      width: 200px;
      margin: 5px;
    }
    .test-section {
      margin: 20px 0;
      padding: 15px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <h1 id="heading">Hello Electron</h1>

  <div class="test-section">
    <h2>Basic Interactions</h2>
    <button id="test-btn" data-testid="test-button">Click Me</button>
    <button id="secondary-btn" data-testid="secondary-button">Secondary Action</button>
  </div>

  <div class="test-section">
    <h2>Form Inputs</h2>
    <input type="text" id="text-input" data-testid="text-input" placeholder="Enter text here">
    <button id="submit-btn" data-testid="submit-button">Submit</button>
  </div>

  <div class="test-section">
    <h2>IPC Communication</h2>
    <button id="ipc-btn" data-testid="ipc-button">Send IPC Message</button>
    <button id="app-info-btn" data-testid="app-info-button">Get App Info</button>
  </div>

  <div class="test-section">
    <h2>Multi-Window</h2>
    <button id="new-window-btn" data-testid="new-window-button">Open New Window</button>
  </div>

  <div id="output" data-testid="output">Output will appear here...</div>

  <script>
    const output = document.getElementById('output');

    document.getElementById('test-btn').onclick = async () => {
      const result = await window.electronAPI.invoke('test-channel', 'hello');
      output.textContent = result;
    };

    document.getElementById('secondary-btn').onclick = () => {
      output.textContent = 'Secondary button clicked!';
    };

    document.getElementById('submit-btn').onclick = () => {
      const text = document.getElementById('text-input').value;
      output.textContent = `Submitted: ${text}`;
    };

    document.getElementById('ipc-btn').onclick = async () => {
      const result = await window.electronAPI.invoke('test-channel', 'IPC test message');
      output.textContent = result;
    };

    document.getElementById('app-info-btn').onclick = async () => {
      const info = await window.electronAPI.invoke('get-app-info');
      output.textContent = JSON.stringify(info, null, 2);
    };

    document.getElementById('new-window-btn').onclick = async () => {
      const windowId = await window.electronAPI.invoke('create-window', {});
      output.textContent = `Created new window with ID: ${windowId}`;
    };
  </script>
</body>
</html>
